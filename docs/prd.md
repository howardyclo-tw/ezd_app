## **專案定位**

- 熱舞社的管理系統
- 目標
    - 短期（MVP: 讓人只做判斷，不要再做計算與整理)
        - 實質減少幹部行政時間
        - 消除高風險人工錯誤（名額、排序、計費）
        - 不改變課務與財務既有工作習慣
    - 中期（完整版本）
        - 集中化課程內容與公告
        - 降低跨角色溝通成本
        - 建立可擴充、可維護的系統邊界
- 使用者身份：幹部(也是社員), 社員, 非社員

---

## **幹部職務**

**社長**

**工作項目**

1. 社員及非社員第一窗口
2. 負責主持招生及年末社團評鑑
3. 向 HR 協調社團活動相關需求（設備／文宣／臨時場地等）
4. **協助審查幹部職務內容（課程／財務／活動規劃）**

**痛點**

（未明確列出）

---

### **副社長**

**工作項目**

1. **維護社員／非社員名單**
2. **制定各項課程的請假規則**
3. **管理每期課程資訊頁面、點名表**
4. 每期各班班長第一窗口，協助班長職務
5. **處理各期補課、加報事務**
6. 負責管理／申請／展延老師門禁（公司系統，跟此系統無關）

**痛點**

- 維護社員／非社員名單
- 每期課程資訊頁、點名表
- 補課、加報處理

---

### **財務**

**工作項目**

1. **處理學員報名費用收費、對帳、記帳等事項**
2. 處理公司社團經費、補助款、報帳及行政費用等事項
3. **預估／結算每期盈虧狀況**

**痛點**

- 報名收費、對帳、記帳
- 期別盈虧

---

### **課務**

**工作項目**

1. 負責整年度各期常態課程、專攻、風格體驗、免費試跳課程安排，
    
    並管理整年度課程時間表（包含聯絡老師／課費規劃／課表安排）
    
2. 其他活動發想與規劃
3. **蒐集年度社員回饋與課程意向調查**
4. 整年度上課教室申請與協調

**痛點**

- 課程意向調查
- 年度課表規劃

---

### **宣傳**

**工作項目**

1. **建立與統整各季課程報名問卷及上課名單**
2. 於生活版公告各期課程／活動宣傳與其宣傳海報製作
3. 公司社活動單頁宣傳投影片製作（含試跳課程跟招生）
4. 活動道具製作

**痛點**

- 各季課程報名問卷
- 報名名單統整

---

### 社團現階段人工Workflow

### 現況

1. 總人數/每期上課人數約100上下 

2. 只使用 surveycake 搜集問卷,公司內部網路架設的wiki作為content management, email使用公司內部outlook 

3. 副社長,財務,宣傳,班長之職務（跟處理課程金流相關的）副社長跟班長職位最為優先 

4. 預算越低越好，一個人力而已，希望能快速打造MVP

**每年初/不定時招生**

1. 副社維護社員名單
     1. 現階段只有年初一次性招生(公司補助300元,社費只要繳1500）
     2. 之後每次報名課程階段，使用者填寫問卷時都可以順便報名「加入社團」，須額外付1800元
     3. 從每次報名階段結束後，副社需要更新社員名單（如果有新社員報名的話）

**課程規劃階段**

1. 課務線下與老師敲定上課時程
2. 編寫年度行事曆
3. 課務在公司內部 wiki 上撰寫並公告課程內容（幹部審核後才會發布,有權限）
    1. 上課日期/時間, 時長, 堂數, 課名, 老師, 教室, 人數上限, 課程備註
    2. 可能會有某一堂因故停課的時候, 需要有彈性可以更改該堂上課日期
    3. 課程類型分為：(常態)試跳, 一般常態, 特殊常態, 風格體驗, (Workshop)專攻班, 團練, 表演班 （希望能抽象化, 變成可彈性設定的課程規則模板)
        1. (常態)試跳報名會排志願序, 會有優先度的排序
        2. 特殊常態：實驗性試開的常態課
        3. 通常常態是固定每一期(2個月)，風格/專攻也會跟著常態一起規劃，但是風格/專攻/團練有可能不定期舉辦(通常在每一期結束到下一期開始之間,或是課程期間空擋)

**堂卡制度（2026 新制，取代過去單堂報名制）**

1. 堂卡購買規則
    1. 取消過去單堂報名制度，全面改成「堂卡制」
    2. 購買最小單位：5 堂卡（可 config）
    3. 堂卡定價（可 config）：
        - 社員：單堂 270 元，5 堂卡 1,350 元
        - 非社員：單堂 370 元，5 堂卡 1,850 元
    4. 堂卡只能於購買當年度使用，跨年度失效
    5. 適用所有課程類型
2. 購買時段限制
    1. 採限時購買制：每兩個月開放一週購買（開放週期可 config）
    2. 非購買時段不可加購堂卡
    3. 管理員可手動開關購買時段（特殊情況）
3. 課程扣卡規則（每堂扣卡數可 config）
    1. 課程單堂收費以堂卡為單位
    2. 預設扣卡數：
        - 一般常態 / 特殊常態 / 試跳 / 風格體驗 / 團練：1 堂卡/堂
        - 專攻班：2~3 堂卡/堂（依課程設定）
        - 表演班：2 堂卡/堂（依課程設定）
    3. 每門課程可個別設定扣卡數，不受預設限制
4. 購買付款流程
    1. 學員於 App 選擇購買堂卡張數 → 送出訂單
    2. 系統顯示銀行 QR Code 供學員掃碼匯款
    3. 報名即匯款（送出訂單即表示承諾付款）
    4. 財務對帳確認收款後，系統核發堂卡額度至學員帳戶
    5. 未於期限內完成匯款者，訂單自動取消
5. 課程報名流程（使用堂卡）
    1. 學員持堂卡 → 選擇課程 + 選擇要上的堂次
    2. 報名當下即扣除對應堂卡數
    3. 系統自動更新上課名單
    4. 堂卡餘額不足時無法報名
6. 請假/補課/轉讓辦法（僅限「整期報名」學員，單堂報名不可請假/轉讓）
    1. 請假
        1. ~~請假需額外自行聯絡副社長，由副社長更改上課日期~~ → **系統化後：學員在 App 上直接申請請假，系統自動通知班長/幹部，無需額外聯繫。**
        2. 僅限整期報名學員可申請請假；單堂報名學員除特殊情況經幹部同意外，不可請假。
        3. ~~如果有報名超過滿班，需要提前告知班長或副社長，讓候補的人有機會上課~~ → **系統化後：請假後系統自動通知候補學員（未來可擴充）。**
    2. 當天課前轉讓
        1. 僅限整期報名學員可申請；單堂報名學員不可轉讓。
        2. 時間限制：只能在當天上課前
        3. ~~學員自行找人替補，並通知幹部，幹部更新上課名單，班長也需要知道~~ → **系統化後：學員在 App 上直接指定接手學員，系統自動更新名單並通知班長。**
        4. 若接手人為非社員，需補繳差額堂卡（註：系統目前需由幹部手動處理，學員請主動告知）
        5. 當天課前轉讓次數與補課次數總合必須符合 1/4 期堂數為限（無條件進位）。此規則僅適用於「常態課程」。
        6. 適用課程：常態課, MV課(也是常態), 專攻班, 作品班
        7. 風格體驗課亦支援系統轉讓（不再由幹部手動管理替補）
    3. [退課] 整期轉讓期限
        1. 時間限制：繳費後至開課前一週（距離第一堂小於七天無法整期轉讓）
        2. 適用課程：常態課, MV課(也是常態), 專攻班, 作品班
        3. 風格體驗課亦支援系統轉讓
    4. 轉班/退費
        1. 繳費後除不可抗力因素，不得轉班及退費（不同MV歌曲算不同班級）
    5. 補課
        1. 適用課程：常態課程, MV班（僅限整期報名學員）
        2. 請假缺席可以補課，額度為轉讓次數與補課次數總合必須符合 1/4 期堂數為限（無條件進位）
        3. 補課期限：**不開放跨期補課**。補課僅限當期結束前完成。
        4. 當期補課：跟班長告知，班長要確認：該課有無空缺, 學員額度，確認後通知學員，更新點名單
        5. 單堂報名學員不享有補課權利，除非因不可抗力因素並向副社長討論核准。
        6. 如因不可抗力因素需退費, 需檢附就醫/主管證明，向副社長討論
        7. 跨區補課限制
            1. 特別常態課程：缺1堂，可以補一般常態2堂
            2. 一般常態課程：缺2堂，可以補特別常態課程1堂
            3. 竹北跟總部課程補課制度獨立：在竹北缺課無法到總部補課，反之亦然

---

### Feature Plan Requirement

AI 幫我拆 MVP 版本跟完整版本

- Plan app feature roadmap,  每個 feature 解決了什麼痛點, 確保所有痛點都被解決, 沒被解決的痛點也需要列出
- 我們之後以 feature-based incremental development 的方式進行，並紀錄 development log
- 短期目標先實現 MVP，足以解決幹部痛點，實現行政流程自動化的 must have features，所有人工流程都有明確銜接點
- 更重要的是需要描述尚未自動化的 workflow 怎麼跟 app 銜接

### MVP Feature Plan
- Described in `./feature-plan.md`

---

### Tech Stack

我們選擇了 **「行動優先的 Web App」** 路線，徹底繞過複雜且昂貴的原生 App (iOS/Android) 開發。

- **前端框架：** **Next.js (React)** - 支援響應式設計 (RWD)，手機與電腦共用一套代碼。
- **後端服務 (BaaS)：** **Supabase** - 負責身份認證 (Auth)、資料庫 (PostgreSQL) 與檔案儲存 (海報/截圖)。
- **推播通知：**
    - 不確定要不要列入 MVP (不知道 effort 大不大)，或是考慮先用寄信的方式通知，需要幫我plan
- **硬體調用：** **HTML5-QRCode**
    - 未來可能可以讓班長直接用手機瀏覽器掃描學員 QR Code 點名 (初期考慮還是用app點名)，需要幫我plan
- **部署平台：** **Vercel** - 提供免費的高速託管與自動 HTTPS（掃描器必備條件）。
- **IDE: Cursor**

### Implementation Guide

- **Feature-based Incremental Development**
- 每一個 Feature 都要：
    1. 明確 user story
    2. 明確「自動化 vs 人工」
    3. 細分 tasks
    4. 有可驗收的輸出

---