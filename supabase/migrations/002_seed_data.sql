-- ============================================================
-- EZD App - Seed Data
-- 用來取代目前 Mock Data，貼到 Supabase Dashboard SQL Editor 執行
-- ============================================================

-- ⚠️ 注意事項：
-- 1. 請先確認 001_course_schema.sql 已經執行過
-- 2. 如果你想重新 seed，先執行底下的 CLEANUP
-- 3. enrollments 需要你自己的 user_id，底下用 placeholder 標記
--    你可以在 Supabase > Authentication > Users 找到你的 UUID

-- ============================================================
-- CLEANUP (optional: 重新 seed 前執行)
-- ============================================================
-- DELETE FROM public.card_transactions;
-- DELETE FROM public.card_orders;
-- DELETE FROM public.transfer_requests;
-- DELETE FROM public.makeup_requests;
-- DELETE FROM public.leave_requests;
-- DELETE FROM public.attendance_records;
-- DELETE FROM public.enrollments;
-- DELETE FROM public.course_leaders;
-- DELETE FROM public.course_sessions;
-- DELETE FROM public.courses;
-- DELETE FROM public.course_groups;

-- ============================================================
-- 1. Course Groups (檔期)
-- ============================================================
INSERT INTO public.course_groups (id, title, description, region, period_start, period_end) VALUES
  ('a0000001-0000-0000-0000-000000000001', 'HQ 2026 3月 常態試跳', '適合新手的基礎體驗課程。', 'HQ', '2026-03-01', '2026-03-31'),
  ('a0000001-0000-0000-0000-000000000002', 'HQ 2026 H1 常態課程', '長期的進階訓練課程。', 'HQ', '2026-03-01', '2026-06-30'),
  ('a0000001-0000-0000-0000-000000000003', 'HQ 2026 1~2月 風格體驗 & Workshop', '寒假專攻班 (已結束)。', 'HQ', '2026-01-01', '2026-02-28');

-- ============================================================
-- 2. Courses (課程)
-- ============================================================

-- Group 1: 常態試跳 (3月)
INSERT INTO public.courses (id, group_id, name, type, teacher, room, start_time, end_time, capacity, cards_per_session, status, description) VALUES
  ('b0000001-0000-0000-0000-000000000001',
   'a0000001-0000-0000-0000-000000000001',
   '基礎律動 Basic Groove', 'trial', 'A-May', 'A教室',
   '19:00', '20:30', 30, 1, 'published',
   '本課程適合所有初學者。透過基礎律動訓練，建立身體協調性與節奏感。'),

  ('b0000001-0000-0000-0000-000000000002',
   'a0000001-0000-0000-0000-000000000001',
   'Locking 基礎律動', 'trial', 'Kenji', 'B教室',
   '19:00', '20:30', 25, 1, 'published',
   'Locking 風格入門，學習基本律動與動作組合。'),

  ('b0000001-0000-0000-0000-000000000003',
   'a0000001-0000-0000-0000-000000000001',
   'Jazz Funk 風格入門', 'trial', 'Momo', 'A教室',
   '20:00', '21:30', 20, 1, 'published',
   '融合 Jazz 與 Funk 元素，展現力量與美感的風格。');

-- Group 2: H1 常態 (3-6月)
INSERT INTO public.courses (id, group_id, name, type, teacher, room, start_time, end_time, capacity, cards_per_session, status, description) VALUES
  ('b0000001-0000-0000-0000-000000000004',
   'a0000001-0000-0000-0000-000000000002',
   '爵士舞進階 Jazz Advance', 'normal', 'Nike', 'B教室',
   '20:30', '22:00', 20, 1, 'published',
   '挑戰高難度的節奏組合與肢體開發。'),

  ('b0000001-0000-0000-0000-000000000005',
   'a0000001-0000-0000-0000-000000000002',
   'Popping 基礎應用', 'normal', 'Popcorn', 'C教室',
   '19:00', '20:30', 25, 1, 'draft',
   'Popping 進階律動，強調肌肉控制與音樂詮釋。');

-- Group 3: Workshop (已結束)
INSERT INTO public.courses (id, group_id, name, type, teacher, room, start_time, end_time, capacity, cards_per_session, status, description) VALUES
  ('b0000001-0000-0000-0000-000000000006',
   'a0000001-0000-0000-0000-000000000003',
   'Litefeet 基礎', 'workshop', 'Xiao-Lin', 'E教室',
   '19:30', '21:00', 20, 2, 'closed',
   '紐約地鐵文化 Litefeet 風格入門。');

-- ============================================================
-- 3. Course Sessions (每堂上課日期)
-- ============================================================

-- 基礎律動 (週一 x 4堂, 3月)
INSERT INTO public.course_sessions (id, course_id, session_date, session_number) VALUES
  ('c0000001-0000-0000-0000-000000000001', 'b0000001-0000-0000-0000-000000000001', '2026-03-02', 1),
  ('c0000001-0000-0000-0000-000000000002', 'b0000001-0000-0000-0000-000000000001', '2026-03-09', 2),
  ('c0000001-0000-0000-0000-000000000003', 'b0000001-0000-0000-0000-000000000001', '2026-03-16', 3),
  ('c0000001-0000-0000-0000-000000000004', 'b0000001-0000-0000-0000-000000000001', '2026-03-23', 4);

-- Locking (週三 x 4堂, 3月)
INSERT INTO public.course_sessions (id, course_id, session_date, session_number) VALUES
  ('c0000001-0000-0000-0000-000000000005', 'b0000001-0000-0000-0000-000000000002', '2026-03-04', 1),
  ('c0000001-0000-0000-0000-000000000006', 'b0000001-0000-0000-0000-000000000002', '2026-03-11', 2),
  ('c0000001-0000-0000-0000-000000000007', 'b0000001-0000-0000-0000-000000000002', '2026-03-18', 3),
  ('c0000001-0000-0000-0000-000000000008', 'b0000001-0000-0000-0000-000000000002', '2026-03-25', 4);

-- Jazz Funk (週五 x 4堂, 3月)
INSERT INTO public.course_sessions (id, course_id, session_date, session_number) VALUES
  ('c0000001-0000-0000-0000-000000000009', 'b0000001-0000-0000-0000-000000000003', '2026-03-06', 1),
  ('c0000001-0000-0000-0000-000000000010', 'b0000001-0000-0000-0000-000000000003', '2026-03-13', 2),
  ('c0000001-0000-0000-0000-000000000011', 'b0000001-0000-0000-0000-000000000003', '2026-03-20', 3),
  ('c0000001-0000-0000-0000-000000000012', 'b0000001-0000-0000-0000-000000000003', '2026-03-27', 4);

-- 爵士舞進階 (週二 x 8堂, 3-6月)
INSERT INTO public.course_sessions (id, course_id, session_date, session_number) VALUES
  ('c0000001-0000-0000-0000-000000000013', 'b0000001-0000-0000-0000-000000000004', '2026-03-10', 1),
  ('c0000001-0000-0000-0000-000000000014', 'b0000001-0000-0000-0000-000000000004', '2026-03-17', 2),
  ('c0000001-0000-0000-0000-000000000015', 'b0000001-0000-0000-0000-000000000004', '2026-03-24', 3),
  ('c0000001-0000-0000-0000-000000000016', 'b0000001-0000-0000-0000-000000000004', '2026-03-31', 4),
  ('c0000001-0000-0000-0000-000000000017', 'b0000001-0000-0000-0000-000000000004', '2026-04-07', 5),
  ('c0000001-0000-0000-0000-000000000018', 'b0000001-0000-0000-0000-000000000004', '2026-04-14', 6),
  ('c0000001-0000-0000-0000-000000000019', 'b0000001-0000-0000-0000-000000000004', '2026-04-21', 7),
  ('c0000001-0000-0000-0000-000000000020', 'b0000001-0000-0000-0000-000000000004', '2026-04-28', 8);

-- Popping (週四 x 8堂, 3-6月)
INSERT INTO public.course_sessions (id, course_id, session_date, session_number) VALUES
  ('c0000001-0000-0000-0000-000000000021', 'b0000001-0000-0000-0000-000000000005', '2026-03-12', 1),
  ('c0000001-0000-0000-0000-000000000022', 'b0000001-0000-0000-0000-000000000005', '2026-03-19', 2),
  ('c0000001-0000-0000-0000-000000000023', 'b0000001-0000-0000-0000-000000000005', '2026-03-26', 3),
  ('c0000001-0000-0000-0000-000000000024', 'b0000001-0000-0000-0000-000000000005', '2026-04-02', 4),
  ('c0000001-0000-0000-0000-000000000025', 'b0000001-0000-0000-0000-000000000005', '2026-04-09', 5),
  ('c0000001-0000-0000-0000-000000000026', 'b0000001-0000-0000-0000-000000000005', '2026-04-16', 6),
  ('c0000001-0000-0000-0000-000000000027', 'b0000001-0000-0000-0000-000000000005', '2026-04-23', 7),
  ('c0000001-0000-0000-0000-000000000028', 'b0000001-0000-0000-0000-000000000005', '2026-04-30', 8);

-- Litefeet (週四 x 4堂, 1月, 已結束)
INSERT INTO public.course_sessions (id, course_id, session_date, session_number) VALUES
  ('c0000001-0000-0000-0000-000000000029', 'b0000001-0000-0000-0000-000000000006', '2026-01-08', 1),
  ('c0000001-0000-0000-0000-000000000030', 'b0000001-0000-0000-0000-000000000006', '2026-01-15', 2),
  ('c0000001-0000-0000-0000-000000000031', 'b0000001-0000-0000-0000-000000000006', '2026-01-22', 3),
  ('c0000001-0000-0000-0000-000000000032', 'b0000001-0000-0000-0000-000000000006', '2026-01-29', 4);

-- ============================================================
-- DONE!
-- 執行後你應該能在 Supabase Table Editor 看到：
--   course_groups:   3 筆
--   courses:         6 筆
--   course_sessions: 32 筆
--
-- 登入 App 後，可透過「報名」按鈕自行報名課程來測試。
-- ============================================================
